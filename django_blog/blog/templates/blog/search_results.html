{% extends "blog/base.html" %}

{% block content %}
<h2>Search Results for "{{ query }}"</h2>

{% if results %}
    <ul>
        {% for post in results %}
            <li>
                <a href="{% url 'post-detail' post.pk %}">
                    {{ post.title }}
                </a>
                <p>{{ post.content|truncatewords:20 }}</p>

                <strong>Tags:</strong>
                {% for tag in post.tags.all %}
                    <span>#{{ tag.name }}</span>
                {% empty %}
                    <span>No tags</span>
                {% endfor %}
                <hr>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No posts found.</p>
{% endif %}

{% endblock %}
